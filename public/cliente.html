<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Portal del Cliente</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand"><span class="brand-text">Portal del Cliente</span></div>
      <button class="btn-icon" id="btnSalirCli" title="Cerrar sesión" aria-label="Cerrar sesión">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M11 8L15 12L11 16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M9 3H17C18.1046 3 19 3.89543 19 5V19C19 20.1046 18.1046 21 17 21H9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </header>

  <div class="container" style="padding: 1.5rem 0;">
    <main class="main">
      <!-- Mi Información -->
      <div class="panel">
        <div class="panel-header">
          <h1>Mi Información</h1>
        </div>
        <div id="infoCliente" class="form-wrap" style="padding:.5rem 1rem;">
          <div style="color:var(--text-muted);">Cargando...</div>
        </div>
      </div>
      <div class="panel" style="margin-top:1rem;">
        <div class="panel-header">
          <h1>Mis Proyectos</h1>
        </div>
        <div id="listaProyectos" class="table-wrap" style="padding:.75rem;"></div>
        <div class="form-wrap" style="margin-top:1rem;">
          <div class="form-header"><h3 class="form-heading">Reconocimiento Facial</h3></div>
          <p style="font-size:.75rem; margin:.25rem 0 1rem;">Registra o actualiza tu rostro para poder usar el login facial. El procesamiento ocurre en tu navegador; sólo se envía el descriptor numérico.</p>
          <div class="btn-face-group" style="align-items:center;">
            <button id="btnEnrollFaceCli" type="button" class="btn-outline btn-face">Registrar mi rostro</button>
            <button id="btnInitCamCli" type="button" class="btn-primary btn-face" style="display:none;">Activar Cámara</button>
            <button id="btnCaptureFaceCli" type="button" class="btn-secondary btn-face" style="display:none;" disabled>Capturar & Guardar</button>
            <button id="btnCerrarFaceCli" type="button" class="btn-danger btn-face" style="display:none;">Cerrar</button>
          </div>
          <div id="faceAreaCli" style="display:none; margin-top:.5rem;">
            <video id="faceVideoCli" autoplay muted playsinline class="video-face"></video>
          </div>
          <div id="msgFaceCli" class="form-msg" style="min-height:1.1rem; margin-top:.25rem;"></div>
        </div>
      </div>

      <div class="panel" id="panelProyecto" style="display:none; margin-top:1rem;">
        <div class="panel-header">
          <h1 id="tituloProyecto">Proyecto</h1>
        </div>
        <div class="form-wrap">
          <div class="form-header"><h3 class="form-heading">Equipo</h3></div>
          <div id="listaEmpleados" class="table-wrap" style="padding:.75rem;"></div>
        </div>
        <div class="form-wrap">
          <div class="form-header"><h3 class="form-heading">Tareas</h3></div>
          <div id="listaTareas" class="table-wrap" style="padding:.75rem;"></div>
        </div>
      </div>

      <div class="panel" style="margin-top:1rem;">
        <div class="panel-header"><h1>Facturas</h1></div>
        <div id="listaFacturasCli" class="table-wrap" style="padding:.75rem;"></div>
      </div>

      <div class="panel" style="margin-top:1rem;">
        <div class="panel-header"><h1>Pagos</h1></div>
        <div id="listaPagosCli" class="table-wrap" style="padding:.75rem;"></div>
      </div>
    </main>
  </div>

  <script src="/vendor/face-api/face-api.js" crossorigin="anonymous"></script>
  <script src="/cliente.js"></script>
</body>
</html>
